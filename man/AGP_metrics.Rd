% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AGP_metrics.R
\name{AGP_metrics}
\alias{AGP_metrics}
\title{Calculate AGP Metrics for Continuous Glucose Monitoring (CGM) Data}
\usage{
AGP_metrics(
  data,
  ID,
  time,
  glucose,
  time_interval,
  target_glucose = NULL,
  shiny = FALSE
)
}
\arguments{
\item{data}{A data frame containing CGM readings.}

\item{ID}{A character string specifying the column name representing the subject ID.}

\item{time}{A character string specifying the column name representing the timestamp of CGM readings.}

\item{glucose}{A character string specifying the column name representing glucose values.}

\item{time_interval}{A numeric vector of length 2 specifying the start and end times (in minutes) for the evaluation window.}

\item{target_glucose}{(Optional) A numeric value specifying a target glucose threshold. Defaults to NULL.}

\item{shiny}{A logical value indicating whether to return the output in a formatted table for Shiny applications. Defaults to FALSE.}
}
\value{
A named list containing the following AGP metrics:
\describe{
  \item{Subject ID}{The unique subject identifier.}
  \item{Start Date}{The first recorded CGM reading date.}
  \item{End Date}{The last recorded CGM reading date.}
  \item{Follow Up Duration}{The number of days between the first and last CGM readings.}
  \item{Evaluation Window}{The predefined time interval used for analysis.}
  \item{\% Time CGM is Active}{The percentage of available CGM readings within the evaluation window.}
  \item{Average Glucose}{The mean glucose level during the evaluation window.}
  \item{Glucose Management Indicator (GMI)}{An estimate of HbA1c derived from the mean glucose level.}
  \item{Coefficient of Variation (CV)}{A measure of glucose variability, calculated as the standard deviation divided by the mean glucose level.}
}

If \code{shiny = TRUE}, the function returns a long-format data frame for use in Shiny applications, with two columns:
\code{"Metric"} (descriptive names of the metrics) and \code{"Value"} (formatted metric values).
}
\description{
This function computes key Ambulatory Glucose Profile (AGP) metrics based on CGM data,
including subject ID, follow-up duration, evaluation window, CGM activity percentage,
average glucose, glucose management indicator (GMI), and coefficient of variation (CV).
}
\examples{
\dontrun{
# Example dataset
data <- data.frame(
  id = rep(1, 100),
  time = seq.POSIXt(from = as.POSIXct("2023-01-01 00:00"), by = "5 min", length.out = 100),
  glucose = rnorm(100, mean = 120, sd = 15)
)

# Compute AGP metrics
AGP_metrics(data, ID = "id", time = "time", glucose = "glucose", time_interval = c(0, 1440))
}
}
